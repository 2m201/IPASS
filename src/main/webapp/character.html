<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Character</title>
    <link rel = "stylesheet" href = "character.css">
</head>
<body onload = getCharacter()>

    <div class="navbar">
        <nav class="navigation" id="navigation">
            <label class="logo" for="navigation">ACRemember</label>
            <ul>
                <li><a href ="index.html">Home</a></li>
                <li><a href ="materialFill.html">Materials</a></li>
                <li><a href = "searchCharacter.html">Search</a></li>
                <li><a href="">Favourite</a></li>
                <li><a href ="">Current </a></li>
                <li><a href = "">Items</a></li>
            </ul>
        </nav>
    </div>

    <main>
        <section class="information">
            <h1 id="header"></h1>
            <p id="subheader"></p>
            <p id="description"></p>
        </section>

        <section>
            <table class="characterTable" align="center" border="1">
                <thead id="tableHead">
                <tr>
                    <th scope ="col" colspan="2" id="name"></th>

                    <!-- picture of character? -->
                </tr>
                </thead>

                <tbody>
                <tr>
                    <td colspan ="2" > <img id="picture" src="" width="200" height="225"></td>

                </tr>

                <tr>
                    <th>Gender</th>
                    <td id ="gender"></td> <!-- value of gender-->
                </tr>
                <tr>
                    <th>Personality</th>
                    <td id="personality"></td> <!-- value of personality-->
                </tr>
                <tr>
                    <th>Species</th>
                    <td id="species"></td> <!-- value of species-->
                </tr>
                <tr>
                    <th>Birthday</th>
                    <td id="birthday"></td> <!-- value of birthday-->
                </tr>
                </tbody>

            </table>
        </section>
    </main>
    <script>
        function appendData(data){
            let item;
            for (item of data) {
                document.getElementById("header").textContent = item.name;
                document.getElementById("subheader").textContent = item.catchphrase;
                document.getElementById("picture").src = item.picture;
                document.getElementById("description").textContent = item.description;
                document.getElementById("name").textContent = item.name;
                document.getElementById("gender").textContent = item.gender;
                document.getElementById("personality").textContent = item.personality;
                document.getElementById("species").textContent = item.species;
                document.getElementById("birthday").textContent = item.birthday;
            }
        }

        function getCharacter() {
            let name = localStorage['name'];
            fetch("restservices/characters/" + name, {method: 'GET'})//with GET-method, no body is sent. So no need for a formData or encData.
                .then(response => response.json())
                .then(function (data) {
                    appendData(data)
                })
                .then(function (myJson) {
                    console.log(myJson)
                });

        }
    </script>


</body>
</html>