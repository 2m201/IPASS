<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Materials</title>
    <link rel = "stylesheet" href = "materialFill.css">
</head>
<body>

    <div class="navbar">
        <nav class="navigation" id="navigation">
            <label class="logo" for="navigation">ACRemember</label>
            <ul>
                <li><a href ="index.html">Home</a></li>
                <li><a href ="materialFill.html">Materials</a></li>
                <li><a href = "searchCharacter.html">Search</a></li>
                <li><a href="">Favourite</a></li>
                <li><a href ="">Current </a></li>
                <li><a href = "">Items</a></li>
            </ul>
        </nav>
    </div>`

    <main>
        <h1>Fill in the amount!</h1>
        <form id ="POSTmaterialForm">
            <fieldset disabled="disabled" id="fieldset">
                <legend hidden>Fill in the amount!</legend>
            <label for = "softwood" class="firstLabel" >Softwood</label>
            <input type="text" id="softwood" name="softwood">

            <label for = "ironnugget" class="firstLabel">Iron nugget</label>
            <input type="text" id="ironnugget" name="ironnugget">
            <br> <br>

            <label for = "treebranch" class="firstLabel">Tree branch</label>
            <input type="text" id="treebranch" name="treebranch">

            <label for = "wood" class="firstLabel">Wood</label>
            <input type="text" id="wood" name="wood">
            <br> <br>

            <label for = "clay" class="firstLabel">Clay</label>
            <input type="text" id="clay" name="clay" >

            <label for = "hardwood" class="firstLabel">Hardwood</label>
            <input type="text" id="hardwood" name="hardwood" >
            <br> <br>

            <label for = "goldnugget" class="firstLabel">Gold nugget</label>
            <input type="text" id="goldnugget" name="goldnugget">

            <label for = "stone" class="firstLabel">Stone</label>
            <input type="text" id="stone" name="stone">
            <br> <br>

            <label for = "starfragment" class="firstLabel">Star fragment</label>
            <input type="text" id="starfragment" name="starfragment">

            <label for = "clumpofweeds" class="firstLabel">Clump of weeds</label>
            <input type="text" id="clumpofweeds" name="clumpofweeds">

                <input id="hashmap" name ="hashmap" hidden value="materialhashmap">

            </fieldset>
            <input class ="button" type= "button" id="change" value="Change!" onclick="show()" style="float: right;">
            <input class ="button" type="button" id="confirmation" value="Save!" onclick="hide()" hidden style="float: right;">

        </form>
    </main>
    <script>
        function show(){
            document.getElementById('fieldset').disabled = false;
            document.getElementById('change').style.display = "none";
            document.getElementById('confirmation').style.display = "block";
        }

        let materialHashmap = {};
        function hide(){
            document.getElementById('fieldset').disabled = true;
            document.getElementById('change').style.display = "block";
            document.getElementById('confirmation').style.display = "none";

            materialHashmap['softwood'] = document.getElementById('softwood').value;
            console.log(materialHashmap);
        }
    </script>

    <script type="text/javascript">
        document.querySelector("#confirmation").addEventListener("click", function(){
            let formData = new FormData(document.querySelector("#POSTmaterialForm"));
            let encData = new URLSearchParams(formData.entries());
            console.log(encData);

            fetch("restservices/account", {method: 'POST', body : encData})
            .then(response => response.json())
            .then(function(myJson){
                console.log(myJson)
            })
        })

    </script>


</body>
</html>